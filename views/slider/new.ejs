<form id="slider-form" class="form-signin" slider="create" method="post" data-parsley-validate style="max-width: none">
  <div class="row">
    <h1 class="text-center login-title marginbottom20"><%= i18n('sliders') %></h1>
    <div class="col-md-6">
      <div class="col-md-2"></div>
      <div class="col-md-10">

        <div class="control-group marginbottom5">
          <label for="name"><%= i18n("name") %> * :</label>
          <input id="s_name_field" type="text" class="form-control" placeholder="<%= i18n("name") %>" name="name">
        </div>

        <div class="control-group marginbottom5">
          <label for="code"><%= i18n("code") %> * :</label>
          <input id="s_code_field" type="text" class="form-control" placeholder="<%= i18n("code") %>" required="" name="code">
        </div>

      </div>
    </div>
  </div>
  <div class="form-signin">
    <input class="btn btn-lg btn-primary btn-block" value="<%= i18n('createslider') %>"  onclick="new_slider('<%= interface.id %>')">
  </div>
  <input type="hidden" name="_csrf" value="<%= _csrf %>" />
</form>

<script type="text/javascript">
  addLoadEvent(set_parsley_lang('<%= (typeof(req.session) !== 'undefined' && req.session.languagePreference) ? req.session.languagePreference : sails.config.i18n.defaultLocale  %>'));
  $('#slider-form').parsley().on('field:validated', function() {
    var ok = $('.parsley-error').length === 0;
  })

  function new_slider(id) {
    $.ajax({
      url: '/slider/newslider/' + id,
      type: 'GET',
      data: {name: $( "#s_name_field" ).val(), code: $( "#s_code_field" ).val()},
      done:function() {
      },

      success: function(data){
        $("#actualizar").append(data);
        bootstrap_alert['success']('A new slider has been created!', 5000 );
      },

      error: function(xhr, status, text) {
        bootstrap_alert['danger'](xhr.responseText, 5000 );
      }
    });
  }


</script>
